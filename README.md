# philosopher-algorithm

哲学家算法的一种实践方式

## 哲学家算法的描述

五个哲学家围坐在一张圆桌周围，每个哲学家面前都有一盘通心粉。由于通心粉很滑，所以需要两只筷子才能夹住。相邻两个盘子之间放有一只筷子。哲学家的生活中有两种交替的活动：吃饭和思考（其他活动对哲学家来说都无关紧要）。当一个哲学家感到饿了时，他就试图分两次去取左边和右边的筷子，每次拿一把，但不分次序。如果成功得到了两把筷子，就开始吃饭，吃完后放下筷子继续思考。

## 解决方式

预防死锁是指通过设置某些限制条件,去破坏产生死锁的 4 个必要条件中的一个或几个来防止死锁的发生。其中“摒弃不剥夺条件”规定,当一个进程提出新的资源请求而不能立即得到满足时,必须释放其已经保持了的所有资源,即已经占有的资源可以被剥夺。根据上面的理论,本文解决哲学家进餐问题的基本思路是,让每名哲学家先去申请他左手边的筷子,然后再申请他右手边的筷子,如果右手边的筷子不空闲, 则比较当前哲学家 i 和他右手边的哲学家( i +1)%5,看谁取得各自左手边筷子的时间更晚, 令其回退( 即释放左手筷子, 再重新申请左手筷子), 直到此哲学家右手边的筷子空闲为止。通过设置回退机制可以确保每位哲学家都能顺利进餐。

## 效果显示

下载，直接用浏览器打开 html 文件，点击桌面中间的模拟按钮进行模拟。

打开控制台配合 console 查看信号量变化效果更佳。
